import{q as h,o as f,r as l,a as k,c as P,e as c,b as t,w as n,d as e,m as V,F as R}from"./index-Hq070Y_W.js";import{a as r}from"./axios-L6U4YIEh.js";import{S as w}from"./sweetalert2.all-S_ds1dXQ.js";var m={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexVueW8HwAsk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const x=c("h2",null,"後台",-1),C={__name:"DashboardView",setup(A){const i=w.mixin({toast:!0,position:"center",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0}),u=h(),_=()=>{const{VITE_APP_URL:o}=m;r.post(`${o}/api/user/check`).then(()=>i.fire({icon:"success",title:"驗證身分成功"})).catch(s=>{alert(s.response.data.message),u.push("/")})},p=()=>{const{VITE_APP_URL:o}=m;r.post(`${o}/logout`).then(()=>{i.fire({icon:"success",title:"登出成功"}),document.cookie="WillyToken=;expires=",u.push("/")}).catch(s=>{alert(s.response.data.message)})};return f(()=>{const o=document.cookie.replace(/(?:(?:^|.*;\s*)WillyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");r.defaults.headers.common.Authorization=o,_()}),(o,s)=>{const a=l("RouterLink"),d=l("RouterView");return k(),P(R,null,[x,c("nav",null,[t(a,{to:"/"},{default:n(()=>[e("回到前台")]),_:1}),e(" | "),t(a,{to:"/admin/order"},{default:n(()=>[e("訂單頁面")]),_:1}),e(" | "),t(a,{to:"/admin/backProducts"},{default:n(()=>[e("產品管理頁面")]),_:1}),e(" | "),t(a,{to:"/admin/AdminCoupons"},{default:n(()=>[e("優惠券管理頁面")]),_:1}),e(" | "),c("a",{href:"#",onClick:V(p,["prevent"])},"登出")]),t(d)],64)}}};export{C as default};

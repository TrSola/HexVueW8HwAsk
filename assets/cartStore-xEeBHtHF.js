import{l as u,h as o}from"./index-_CDjE_z8.js";import{a as i}from"./axios-L6U4YIEh.js";import{S as m}from"./sweetalert2.all-6J5TDxSM.js";var _={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexVueW8HwAsk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const f=m.mixin({toast:!0,position:"center",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0}),{VITE_APP_URL:n,VITE_APP_PATH:l}=_,S=u("cartStore",()=>{const e=o([]),s=o(0),r=o(0),c=()=>{const a=`${n}/api/${l}/cart`;i.get(a).then(t=>{e.value=t.data.data,s.value=t.data.data.final_total,r.value=t.data.data.total}).catch(t=>{alert(t.response.data.message)})};return{carts:e,finalTotal:s,total:r,getCart:c,addToCart:a=>{const t=`${n}/api/${l}/cart`,d={product_id:a,qty:1};i.post(t,{data:d}).then(()=>{f.fire({icon:"success",title:"加入購物車成功"}),c()}).catch(p=>{alert(p.response.data.message)})}}});export{S as u};

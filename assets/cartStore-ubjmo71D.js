import{p as m,g as o}from"./index-aM8JeguA.js";import{a as i}from"./axios-L6U4YIEh.js";import{S as _}from"./sweetalert2.all-vgbLoxdj.js";var f={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexVueW8HwAsk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const P=_.mixin({toast:!0,position:"center",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0}),{VITE_APP_URL:n,VITE_APP_PATH:l}=f,C=m("cartStore",()=>{const e=o([]),s=o(0),r=o(0),c=()=>{const a=`${n}/api/${l}/cart`;i.get(a).then(t=>{e.value=t.data.data,s.value=t.data.data.final_total,r.value=t.data.data.total}).catch(t=>{alert(t.response.data.message)})};return{carts:e,finalTotal:s,total:r,getCart:c,addToCart:(a,t=1)=>{const p=`${n}/api/${l}/cart`,d={product_id:a,qty:t};i.post(p,{data:d}).then(()=>{P.fire({icon:"success",title:"加入購物車成功"}),c()}).catch(u=>{alert(u.response.data.message)})}}});export{C as u};
